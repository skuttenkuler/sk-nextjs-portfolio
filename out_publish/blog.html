<!DOCTYPE html><html><head><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"/><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-
awesome.min.css" rel="stylesheet" integrity="sha384-
wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="keywords" content="full stack, next.js, portfolio"/><meta name="description" content="Sam Kuttenkuler Full Stack Developer Portfolio"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Sam Kuttenkuler</title><meta name="next-head-count" content="6"/><link rel="preload" href="/_next/static/css/c08ee99b1135c817968f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/c08ee99b1135c817968f.css" data-n-g=""/><link rel="preload" href="/_next/static/css/cef5b988f5860669b71b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/cef5b988f5860669b71b.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/main-d5dd80996d18e4aa860f.js" as="script"/><link rel="preload" href="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.9d524150d48315f49e80.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.5ff17f97567cee3c1392.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-df432b3e8bcf7ef0bfba.js" as="script"/><link rel="preload" href="/_next/static/chunks/75fc9c18.60c1ab7504f6eb9ff2f2.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/blog-4957c676e625534a0c27.js" as="script"/></head><body><div id="__next"><div class="Layout_container__1SPwL"><div class="Button_Button__p3_03"><a href="/">Sam.</a></div><ul class="Articles_ArticleList__lyPdH"><div class="articles"><a href="https://medium.com/@sam-kuttenk/rest-api-591cb9698ddc?source=rss-118b5533365c------2"><h4 id="article-title" class="Articles_articleTitle__ZvJOV">REST API</h4><div class="p-details" id="article-details"><p id="pub-date" class="Articles_date__3Lzt-">February 4th 2020</p></div></a></div><div class="articles"><a href="https://medium.com/@sam-kuttenk/authorization-and-user-data-with-firebase-f22f800d2eb8?source=rss-118b5533365c------2"><h4 id="article-title" class="Articles_articleTitle__ZvJOV">Authorization and User data with Firebase.</h4><div class="p-details" id="article-details"><p id="pub-date" class="Articles_date__3Lzt-">December 22nd 2019</p></div></a></div></ul></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"articles":{"status":"ok","feed":{"url":"https://medium.com/feed/@sam-kuttenk","title":"Stories by Samuel Kuttenkuler on Medium","link":"https://medium.com/@sam-kuttenk?source=rss-118b5533365c------2","author":"","description":"Stories by Samuel Kuttenkuler on Medium","image":"https://cdn-images-1.medium.com/fit/c/150/150/1*bnZlaX9PGhtSq1xPUBMOlg.png"},"items":[{"title":"REST API","pubDate":"2020-02-04 00:20:06","link":"https://medium.com/@sam-kuttenk/rest-api-591cb9698ddc?source=rss-118b5533365c------2","guid":"https://medium.com/p/591cb9698ddc","author":"Samuel Kuttenkuler","thumbnail":"https://cdn-images-1.medium.com/proxy/1*3UaLDKs6bJRMtYoPDCIWBw.png","description":"\n\u003cp\u003e\u003cem\u003e(RE)presentational (S)tate (T)ransfer\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eWhat is \u003ca href=\"https://restfulapi.net/\"\u003eREST\u003c/a\u003e?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eREST is a resource-based software architectural style in which six constraints must be satisfied in order for an interface to be referred to as RESTful.\u003c/li\u003e\n\u003cli\u003eREST is resource based not action based ( nouns vs verbs).\u003c/li\u003e\n\u003cli\u003eSIX CONSTRAINTS: Uniform Interface, Stateless, Client — Server, Cacheable, Layered System, Code on Demand\u003c/li\u003e\n\u003c/ul\u003e\n\u003cfigure\u003e\u003cimg alt=\"Image result for rest api meme\" src=\"https://cdn-images-1.medium.com/proxy/1*3UaLDKs6bJRMtYoPDCIWBw.png\"\u003e\u003c/figure\u003e\u003cp\u003eIn a RESTful API, we are thinking in nouns (resources) not in actions such as SOAP. Putting it simply, nouns and verbs or things and actions. These resources are identified by URI’s (a string that unambiguously identifies a particular resource). In REST you can have multiple URI’s referring to the same resource.\u003c/p\u003e\n\u003cp\u003eRepresentations are how we as developers manipulate our resources and is part of the resource state. BUT WAIT? I thought that one of the constraints of a RESTFUL API was being stateless?? So in this particular architecture style client and server are separate but the session state is held in the transfer between client and server NOT THE CLIENT. The server contains no client state. Each request that is made contains enough context to process the message given, though the messages must be very self descriptive. The format of the data in the representations are typically in Javascript Object Notation(JSON) or Extensible Markup Language(XML).\u003c/p\u003e\n\u003cp\u003eRepresentation Example:\u003c/p\u003e\n\u003cp\u003eResource:\u003c/p\u003e\n\u003cul\u003e\u003cli\u003emusician(Thelonious Monk)\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eService:\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eArtist Info (GET)\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eRepresentation to get back:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eName, Albums, Age, etc\u003c/li\u003e\n\u003cli\u003eAll in JSON or XML\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e\u003cstrong\u003eTHE SIX CONSTRAINTS OF REST\u003c/strong\u003e\u003c/h3\u003e\n\u003cblockquote\u003e\u003cstrong\u003e1. Uniform Interface\u003c/strong\u003e\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eThis defines the interface between the client and server by simplifying and decoupling the architecture. Uniform Interface is fundamental to a RESTful design. The relationship between client and server is established with HTTP verbs, URI’s, and HTTP responses:\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e— HTTP =\u0026gt; GET, PUT, POST, DELETE\u003c/p\u003e\n\u003cp\u003e— URI’s =\u0026gt; the resource name\u003c/p\u003e\n\u003cp\u003e— HTTP =\u0026gt;(status, body)\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"Image result for rest api cartoon\" src=\"https://cdn-images-1.medium.com/proxy/1*5xCTnv1iKyFSaF8iKU_ltw.png\"\u003e\u003c/figure\u003e\u003cblockquote\u003e\u003cstrong\u003e2. Stateless\u003c/strong\u003e\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eThe server contains none of the client state only session state is held.\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\u003cstrong\u003e3. Client / Server\u003c/strong\u003e\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eWhen using REST one must assume a disconnected system, the client and server are not touching or connected, each are merely “shouting” at each other. Shouting a request, server listening for that request, taking that request, and shouting back a response that the client is listening for. The shouting and listening “connection” is \u003cem\u003eUniform Interface.\u003c/em\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e4.\u003c/strong\u003e \u003cstrong\u003eCacheable\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eIn the server, responses(representations) are cacheable. Caching is the ability to store copies of frequently accessed data in the client to server call and response interface. When a user sends a request with a resource representation, the request goes through a cache or multiple caches toward the server hosting the resource the user is listening for. If any of the caches along the request have a copy of the requested representation, it uses that copy to satisfy the request. This processes will reduce bandwidth, latency, and the overall load on servers.\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cstrong\u003e5.\u003c/strong\u003e \u003cstrong\u003eLayered System\u003c/strong\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eAs mentioned in \u003cstrong\u003eClient / Server\u003c/strong\u003e, a developer must assume a disconnected system. In REST the software or hardware is the intermediary between client and server. Keeping this disconnected relationship is a great utility for scaling.\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cstrong\u003e6.\u003c/strong\u003e \u003cstrong\u003eCode on Demand\u003c/strong\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eThe Code on Demand paradigm is the only constraint of the six that is optional. This constraint allows clients to improve flexibility by giving the server the control to decide how certain things will be done. The code(like Java applets or Javascript) lies inactive on a web server until a client requests a web page that holds a link to the code using the client’s web browser.\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eRESTful API calls with Node.js, Express, and MongoDB\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003einstall \u003ca href=\"https://expressjs.com/\"\u003eExpress\u003c/a\u003e, \u003ca href=\"https://nodejs.org/en/\"\u003eNode\u003c/a\u003e, and \u003ca href=\"https://www.mongodb.com/cloud/atlas/lp/general/try?utm_source=google\u0026amp;utm_campaign=gs_americas_united%20states_search_brand_atlas_desktop\u0026amp;utm_term=mongodb\u0026amp;utm_medium=cpc_paid_search\u0026amp;utm_ad=e\u0026amp;gclid=Cj0KCQiA4NTxBRDxARIsAHyp6gBRGWBwng7NZbnp9YIcYm417kbj9lmYRik1K5-QXShjD9ZaaXwIUPUaAmujEALw_wcB\"\u003eMongoDB\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eserver.js\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e//import packages\u003cbr\u003econst express = require('express');\u003cbr\u003econst mongojs = require('mongojs');\u003c/pre\u003e\n\u003cpre\u003e//connection to the db\u003cbr\u003econst databaseURL = \"vinyl\";\u003cbr\u003econst collections = [\"records\"];\u003cbr\u003econst db = mongojs(databaseURL, collections);\u003c/pre\u003e\n\u003cpre\u003e//grant ability to create routes with express very easily\u003cbr\u003ecost app = express();\u003c/pre\u003e\n\u003cpre\u003eapp.use(express.urlencoded({ extended: true }));\u003cbr\u003eapp.use(express.json());\u003cbr\u003eapp.use(express.static(\"public\"));\u003c/pre\u003e\n\u003cpre\u003e/////////ROUTES/////////\u003cbr\u003e\u003c/pre\u003e\n\u003cpre\u003e////////////////////////\u003c/pre\u003e\n\u003cpre\u003e\u003cbr\u003e//listen for server\u003cbr\u003eapp.listen(3000, () =\u0026gt; {\u003cbr\u003econsole.log(\"Server is listening on PORT: 3000\");\u003cbr\u003e});\u003c/pre\u003e\n\u003cp\u003eIn the ROUTES section in server.js will be examples of :\u003c/p\u003e\n\u003cp\u003eGET, PUT, POST, DELETE\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eGET\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e//If I (user) want to see the Records i have listened to \u003c/pre\u003e\n\u003cpre\u003e//using get http verb when \"newRecords\" is visited.\u003cbr\u003eapp.get(\"/newRecords\", (req, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e// GET any resource in records collection with a variable listened   // with a value of false.\u003cbr\u003edb.records.find({ listened: true }, (error, data) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//if there is an error then log that error\u003cbr\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003c/pre\u003e\n\u003cpre\u003e// server with send back the data the user is asking for in JSON \u003cbr\u003e// format\u003cbr\u003eres.json(data);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003ePOST\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e// HTTP POST verb for when \"add\" is visited\u003cbr\u003eapp.post(\"/add\", ({ newRecord }, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//new record Object that will add(POST) the new object to our db\u003cbr\u003econst record = newRecord;\u003c/pre\u003e\n\u003cpre\u003e//set boolean for object\u003cbr\u003erecord.listened = false;\u003c/pre\u003e\n\u003cpre\u003e//mongojs save method to save to collection\u003cbr\u003edb.records.save(record, (error, added) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003c/pre\u003e\n\u003cpre\u003e// server responds with the updated collection including our new\u003cbr\u003e// record\u003cbr\u003eres.send(added);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003ePUT\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e//HTTP PUT verb for when \"marklistened/:id\" is visited\u003cbr\u003eapp.put(\"/marklistened/:id\", ({ params }, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//mongo update method on records collection\u003cbr\u003edb.records.update(\u003c/pre\u003e\n\u003cpre\u003e// match the id of the record we want updated\u003cbr\u003e{ _id: mongojs.ObjectId(params.id) },\u003c/pre\u003e\n\u003cpre\u003e//once we find the record we want to update, set the new value\u003cbr\u003e{ $set: { listened: true}\u003c/pre\u003e\n\u003cpre\u003e},\u003c/pre\u003e\n\u003cpre\u003e(error, edited) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003e//if error send an error\u003cbr\u003eres.send(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003cbr\u003e// server response to client call\u003c/pre\u003e\n\u003cpre\u003eres.send(edited);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e);\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003eDELETE\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003eHTTP DELETE verb for when \"delete/:id\" is visited\u003cbr\u003eapp.delete(\"/delete/:id\", ({ params }, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//Mongojs method remove on the record we want deleted\u003cbr\u003edb.records.remove(\u003c/pre\u003e\n\u003cpre\u003e// once we match the record ID we want to delete, remove it from the\u003cbr\u003e// collection\u003cbr\u003e{ _id: mongojs.ObjectId(params.id) },\u003c/pre\u003e\n\u003cpre\u003e(error, deleted) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003eres.send(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003c/pre\u003e\n\u003cpre\u003econsole.log(deleted);\u003c/pre\u003e\n\u003cpre\u003e// server response to client call\u003cbr\u003eres.send(deleted);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e);\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=591cb9698ddc\" width=\"1\" height=\"1\" alt=\"\"\u003e\n","content":"\n\u003cp\u003e\u003cem\u003e(RE)presentational (S)tate (T)ransfer\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eWhat is \u003ca href=\"https://restfulapi.net/\"\u003eREST\u003c/a\u003e?\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eREST is a resource-based software architectural style in which six constraints must be satisfied in order for an interface to be referred to as RESTful.\u003c/li\u003e\n\u003cli\u003eREST is resource based not action based ( nouns vs verbs).\u003c/li\u003e\n\u003cli\u003eSIX CONSTRAINTS: Uniform Interface, Stateless, Client — Server, Cacheable, Layered System, Code on Demand\u003c/li\u003e\n\u003c/ul\u003e\n\u003cfigure\u003e\u003cimg alt=\"Image result for rest api meme\" src=\"https://cdn-images-1.medium.com/proxy/1*3UaLDKs6bJRMtYoPDCIWBw.png\"\u003e\u003c/figure\u003e\u003cp\u003eIn a RESTful API, we are thinking in nouns (resources) not in actions such as SOAP. Putting it simply, nouns and verbs or things and actions. These resources are identified by URI’s (a string that unambiguously identifies a particular resource). In REST you can have multiple URI’s referring to the same resource.\u003c/p\u003e\n\u003cp\u003eRepresentations are how we as developers manipulate our resources and is part of the resource state. BUT WAIT? I thought that one of the constraints of a RESTFUL API was being stateless?? So in this particular architecture style client and server are separate but the session state is held in the transfer between client and server NOT THE CLIENT. The server contains no client state. Each request that is made contains enough context to process the message given, though the messages must be very self descriptive. The format of the data in the representations are typically in Javascript Object Notation(JSON) or Extensible Markup Language(XML).\u003c/p\u003e\n\u003cp\u003eRepresentation Example:\u003c/p\u003e\n\u003cp\u003eResource:\u003c/p\u003e\n\u003cul\u003e\u003cli\u003emusician(Thelonious Monk)\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eService:\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eArtist Info (GET)\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003eRepresentation to get back:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eName, Albums, Age, etc\u003c/li\u003e\n\u003cli\u003eAll in JSON or XML\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e\u003cstrong\u003eTHE SIX CONSTRAINTS OF REST\u003c/strong\u003e\u003c/h3\u003e\n\u003cblockquote\u003e\u003cstrong\u003e1. Uniform Interface\u003c/strong\u003e\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eThis defines the interface between the client and server by simplifying and decoupling the architecture. Uniform Interface is fundamental to a RESTful design. The relationship between client and server is established with HTTP verbs, URI’s, and HTTP responses:\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e— HTTP =\u0026gt; GET, PUT, POST, DELETE\u003c/p\u003e\n\u003cp\u003e— URI’s =\u0026gt; the resource name\u003c/p\u003e\n\u003cp\u003e— HTTP =\u0026gt;(status, body)\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"Image result for rest api cartoon\" src=\"https://cdn-images-1.medium.com/proxy/1*5xCTnv1iKyFSaF8iKU_ltw.png\"\u003e\u003c/figure\u003e\u003cblockquote\u003e\u003cstrong\u003e2. Stateless\u003c/strong\u003e\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eThe server contains none of the client state only session state is held.\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\u003cstrong\u003e3. Client / Server\u003c/strong\u003e\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eWhen using REST one must assume a disconnected system, the client and server are not touching or connected, each are merely “shouting” at each other. Shouting a request, server listening for that request, taking that request, and shouting back a response that the client is listening for. The shouting and listening “connection” is \u003cem\u003eUniform Interface.\u003c/em\u003e\n\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003e4.\u003c/strong\u003e \u003cstrong\u003eCacheable\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eIn the server, responses(representations) are cacheable. Caching is the ability to store copies of frequently accessed data in the client to server call and response interface. When a user sends a request with a resource representation, the request goes through a cache or multiple caches toward the server hosting the resource the user is listening for. If any of the caches along the request have a copy of the requested representation, it uses that copy to satisfy the request. This processes will reduce bandwidth, latency, and the overall load on servers.\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cstrong\u003e5.\u003c/strong\u003e \u003cstrong\u003eLayered System\u003c/strong\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eAs mentioned in \u003cstrong\u003eClient / Server\u003c/strong\u003e, a developer must assume a disconnected system. In REST the software or hardware is the intermediary between client and server. Keeping this disconnected relationship is a great utility for scaling.\u003c/li\u003e\u003c/ul\u003e\n\u003cblockquote\u003e\n\u003cstrong\u003e6.\u003c/strong\u003e \u003cstrong\u003eCode on Demand\u003c/strong\u003e\n\u003c/blockquote\u003e\n\u003cul\u003e\u003cli\u003eThe Code on Demand paradigm is the only constraint of the six that is optional. This constraint allows clients to improve flexibility by giving the server the control to decide how certain things will be done. The code(like Java applets or Javascript) lies inactive on a web server until a client requests a web page that holds a link to the code using the client’s web browser.\u003c/li\u003e\u003c/ul\u003e\n\u003cp\u003e\u003cstrong\u003eRESTful API calls with Node.js, Express, and MongoDB\u003c/strong\u003e\u003c/p\u003e\n\u003cp\u003einstall \u003ca href=\"https://expressjs.com/\"\u003eExpress\u003c/a\u003e, \u003ca href=\"https://nodejs.org/en/\"\u003eNode\u003c/a\u003e, and \u003ca href=\"https://www.mongodb.com/cloud/atlas/lp/general/try?utm_source=google\u0026amp;utm_campaign=gs_americas_united%20states_search_brand_atlas_desktop\u0026amp;utm_term=mongodb\u0026amp;utm_medium=cpc_paid_search\u0026amp;utm_ad=e\u0026amp;gclid=Cj0KCQiA4NTxBRDxARIsAHyp6gBRGWBwng7NZbnp9YIcYm417kbj9lmYRik1K5-QXShjD9ZaaXwIUPUaAmujEALw_wcB\"\u003eMongoDB\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eserver.js\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e//import packages\u003cbr\u003econst express = require('express');\u003cbr\u003econst mongojs = require('mongojs');\u003c/pre\u003e\n\u003cpre\u003e//connection to the db\u003cbr\u003econst databaseURL = \"vinyl\";\u003cbr\u003econst collections = [\"records\"];\u003cbr\u003econst db = mongojs(databaseURL, collections);\u003c/pre\u003e\n\u003cpre\u003e//grant ability to create routes with express very easily\u003cbr\u003ecost app = express();\u003c/pre\u003e\n\u003cpre\u003eapp.use(express.urlencoded({ extended: true }));\u003cbr\u003eapp.use(express.json());\u003cbr\u003eapp.use(express.static(\"public\"));\u003c/pre\u003e\n\u003cpre\u003e/////////ROUTES/////////\u003cbr\u003e\u003c/pre\u003e\n\u003cpre\u003e////////////////////////\u003c/pre\u003e\n\u003cpre\u003e\u003cbr\u003e//listen for server\u003cbr\u003eapp.listen(3000, () =\u0026gt; {\u003cbr\u003econsole.log(\"Server is listening on PORT: 3000\");\u003cbr\u003e});\u003c/pre\u003e\n\u003cp\u003eIn the ROUTES section in server.js will be examples of :\u003c/p\u003e\n\u003cp\u003eGET, PUT, POST, DELETE\u003c/p\u003e\n\u003cul\u003e\u003cli\u003eGET\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e//If I (user) want to see the Records i have listened to \u003c/pre\u003e\n\u003cpre\u003e//using get http verb when \"newRecords\" is visited.\u003cbr\u003eapp.get(\"/newRecords\", (req, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e// GET any resource in records collection with a variable listened   // with a value of false.\u003cbr\u003edb.records.find({ listened: true }, (error, data) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//if there is an error then log that error\u003cbr\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003c/pre\u003e\n\u003cpre\u003e// server with send back the data the user is asking for in JSON \u003cbr\u003e// format\u003cbr\u003eres.json(data);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003ePOST\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e// HTTP POST verb for when \"add\" is visited\u003cbr\u003eapp.post(\"/add\", ({ newRecord }, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//new record Object that will add(POST) the new object to our db\u003cbr\u003econst record = newRecord;\u003c/pre\u003e\n\u003cpre\u003e//set boolean for object\u003cbr\u003erecord.listened = false;\u003c/pre\u003e\n\u003cpre\u003e//mongojs save method to save to collection\u003cbr\u003edb.records.save(record, (error, added) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003c/pre\u003e\n\u003cpre\u003e// server responds with the updated collection including our new\u003cbr\u003e// record\u003cbr\u003eres.send(added);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003ePUT\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003e//HTTP PUT verb for when \"marklistened/:id\" is visited\u003cbr\u003eapp.put(\"/marklistened/:id\", ({ params }, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//mongo update method on records collection\u003cbr\u003edb.records.update(\u003c/pre\u003e\n\u003cpre\u003e// match the id of the record we want updated\u003cbr\u003e{ _id: mongojs.ObjectId(params.id) },\u003c/pre\u003e\n\u003cpre\u003e//once we find the record we want to update, set the new value\u003cbr\u003e{ $set: { listened: true}\u003c/pre\u003e\n\u003cpre\u003e},\u003c/pre\u003e\n\u003cpre\u003e(error, edited) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003e//if error send an error\u003cbr\u003eres.send(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003cbr\u003e// server response to client call\u003c/pre\u003e\n\u003cpre\u003eres.send(edited);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e);\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cul\u003e\u003cli\u003eDELETE\u003c/li\u003e\u003c/ul\u003e\n\u003cpre\u003eHTTP DELETE verb for when \"delete/:id\" is visited\u003cbr\u003eapp.delete(\"/delete/:id\", ({ params }, res) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003e//Mongojs method remove on the record we want deleted\u003cbr\u003edb.records.remove(\u003c/pre\u003e\n\u003cpre\u003e// once we match the record ID we want to delete, remove it from the\u003cbr\u003e// collection\u003cbr\u003e{ _id: mongojs.ObjectId(params.id) },\u003c/pre\u003e\n\u003cpre\u003e(error, deleted) =\u0026gt; {\u003c/pre\u003e\n\u003cpre\u003eif (error) {\u003c/pre\u003e\n\u003cpre\u003econsole.log(error);\u003c/pre\u003e\n\u003cpre\u003eres.send(error);\u003c/pre\u003e\n\u003cpre\u003e} else {\u003c/pre\u003e\n\u003cpre\u003econsole.log(deleted);\u003c/pre\u003e\n\u003cpre\u003e// server response to client call\u003cbr\u003eres.send(deleted);\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e}\u003c/pre\u003e\n\u003cpre\u003e);\u003c/pre\u003e\n\u003cpre\u003e});\u003c/pre\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=591cb9698ddc\" width=\"1\" height=\"1\" alt=\"\"\u003e\n","enclosure":{},"categories":["rest-api"]},{"title":"Authorization and User data with Firebase.","pubDate":"2019-12-22 22:36:56","link":"https://medium.com/@sam-kuttenk/authorization-and-user-data-with-firebase-f22f800d2eb8?source=rss-118b5533365c------2","guid":"https://medium.com/p/f22f800d2eb8","author":"Samuel Kuttenkuler","thumbnail":"https://cdn-images-1.medium.com/max/1024/1*x8LjUUpPNMwrutD5mee2pw.png","description":"\n\u003ch3\u003eFirebase: Authorization and User data.\u003c/h3\u003e\n\u003cp\u003eFirebase is a very user friendly Software Development platform that was acquired by Google in 2014. Setting up a user authorization form can be a little daunting but Firebase makes it very easy. The first step is to \u003ca href=\"http://firebase.com/\"\u003ecreate a Firebase account\u003c/a\u003e then create a new app, select the mediums that you will be using, in the case of this blog a “web app”. Once that is done Firebase will give you the keys to the car.\u003c/p\u003e\n\u003cp\u003eYour web app’s own firebaseConfig object which stores your apiKey, authDomain(where you’re going to call and sen user input for sign up and login), your databaseURL, and some other goodies along with and initializer. This block of code needs to be copied and pasted at the bottom of your index.html file just under the \u0026lt;body\u0026gt; tag. I like to go ahead and point to what I will be using for example:\u003c/p\u003e\n\u003cp\u003econst auth = firebase.auth(); (points to the authorization domain)\u003c/p\u003e\n\u003cp\u003econst db = firebase.firestore(); (points to the Firestore database)\u003c/p\u003e\n\u003cp\u003eOnce I have my pointers I will start working out creating users for my auth().\u003c/p\u003e\n\u003cp\u003eBelow is a method out of the Firebase auth toolbox taking in an email and password from an html form, then once the method has taken in the values from the form it will fire a function with a resoponse(cred):\u003c/p\u003e\n\u003cp\u003eauth.createUserWithEmailAndPassword(email, password).then(cred =\u0026gt; {\u003c/p\u003e\n\u003cp\u003eIf there is more information to be saved I will take the userID from the cred(response) and call the db, make a collection(objects in firebase) with the name “users” point to the specific ID of the User, set the values, and push to the database.\u003c/p\u003e\n\u003cp\u003ereturn db.collection(“users”).doc(userID).set({\u003c/p\u003e\n\u003cp\u003eusername:$(“#username”).val(),\u003c/p\u003e\n\u003cp\u003e});\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*x8LjUUpPNMwrutD5mee2pw.png\"\u003e\u003c/figure\u003e\u003cp\u003eOnce that is saved the User email and password will be in the Auth Domaine and the other user input will be saved with the same userID as our created user. If I wanted to get the data for displaying on the DOM I would call the db collection of “users”, point to the specific userID and you a .get method to fetch the data, once that is done it will fire a function that returns the data:\u003c/p\u003e\n\u003cp\u003edb.collection(“users”).doc(user.uid).get().then(doc =\u0026gt; {\u003c/p\u003e\n\u003cp\u003euserData = doc.data();\u003c/p\u003e\n\u003cp\u003eusername = userData.name;\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=f22f800d2eb8\" width=\"1\" height=\"1\" alt=\"\"\u003e\n","content":"\n\u003ch3\u003eFirebase: Authorization and User data.\u003c/h3\u003e\n\u003cp\u003eFirebase is a very user friendly Software Development platform that was acquired by Google in 2014. Setting up a user authorization form can be a little daunting but Firebase makes it very easy. The first step is to \u003ca href=\"http://firebase.com/\"\u003ecreate a Firebase account\u003c/a\u003e then create a new app, select the mediums that you will be using, in the case of this blog a “web app”. Once that is done Firebase will give you the keys to the car.\u003c/p\u003e\n\u003cp\u003eYour web app’s own firebaseConfig object which stores your apiKey, authDomain(where you’re going to call and sen user input for sign up and login), your databaseURL, and some other goodies along with and initializer. This block of code needs to be copied and pasted at the bottom of your index.html file just under the \u0026lt;body\u0026gt; tag. I like to go ahead and point to what I will be using for example:\u003c/p\u003e\n\u003cp\u003econst auth = firebase.auth(); (points to the authorization domain)\u003c/p\u003e\n\u003cp\u003econst db = firebase.firestore(); (points to the Firestore database)\u003c/p\u003e\n\u003cp\u003eOnce I have my pointers I will start working out creating users for my auth().\u003c/p\u003e\n\u003cp\u003eBelow is a method out of the Firebase auth toolbox taking in an email and password from an html form, then once the method has taken in the values from the form it will fire a function with a resoponse(cred):\u003c/p\u003e\n\u003cp\u003eauth.createUserWithEmailAndPassword(email, password).then(cred =\u0026gt; {\u003c/p\u003e\n\u003cp\u003eIf there is more information to be saved I will take the userID from the cred(response) and call the db, make a collection(objects in firebase) with the name “users” point to the specific ID of the User, set the values, and push to the database.\u003c/p\u003e\n\u003cp\u003ereturn db.collection(“users”).doc(userID).set({\u003c/p\u003e\n\u003cp\u003eusername:$(“#username”).val(),\u003c/p\u003e\n\u003cp\u003e});\u003c/p\u003e\n\u003cfigure\u003e\u003cimg alt=\"\" src=\"https://cdn-images-1.medium.com/max/1024/1*x8LjUUpPNMwrutD5mee2pw.png\"\u003e\u003c/figure\u003e\u003cp\u003eOnce that is saved the User email and password will be in the Auth Domaine and the other user input will be saved with the same userID as our created user. If I wanted to get the data for displaying on the DOM I would call the db collection of “users”, point to the specific userID and you a .get method to fetch the data, once that is done it will fire a function that returns the data:\u003c/p\u003e\n\u003cp\u003edb.collection(“users”).doc(user.uid).get().then(doc =\u0026gt; {\u003c/p\u003e\n\u003cp\u003euserData = doc.data();\u003c/p\u003e\n\u003cp\u003eusername = userData.name;\u003c/p\u003e\n\u003cimg src=\"https://medium.com/_/stat?event=post.clientViewed\u0026amp;referrerSource=full_rss\u0026amp;postId=f22f800d2eb8\" width=\"1\" height=\"1\" alt=\"\"\u003e\n","enclosure":{},"categories":["firebase"]}]}},"__N_SSG":true},"page":"/blog","query":{},"buildId":"D7XNJqlClI4sdeEHd7cUp","runtimeConfig":{},"nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/_next/static/chunks/polyfills-040103c5c51c5268569e.js"></script><script src="/_next/static/chunks/main-d5dd80996d18e4aa860f.js" async=""></script><script src="/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/_next/static/chunks/framework.9d524150d48315f49e80.js" async=""></script><script src="/_next/static/chunks/commons.5ff17f97567cee3c1392.js" async=""></script><script src="/_next/static/chunks/pages/_app-df432b3e8bcf7ef0bfba.js" async=""></script><script src="/_next/static/chunks/75fc9c18.60c1ab7504f6eb9ff2f2.js" async=""></script><script src="/_next/static/chunks/pages/blog-4957c676e625534a0c27.js" async=""></script><script src="/_next/static/D7XNJqlClI4sdeEHd7cUp/_buildManifest.js" async=""></script><script src="/_next/static/D7XNJqlClI4sdeEHd7cUp/_ssgManifest.js" async=""></script></body></html>